<div *ngIf="user">

  <h1>Ofertas:</h1>

  <div class="job" *ngFor="let job of jobs">
    <p>Oferta: {{job.title | json}}</p>
    <p>Especialidad: {{job.speciality | json}}</p>
    <p>Centro: {{job.center.title | json}}</p>
    <p>Fecha de inicio: {{job.datein | date}}</p>
    <p>Fecha de finalización: {{job.dateout | date}}</p>
    <p>Descripción: {{job.description | json}}</p>
    <div *ngIf="user.role!='doctor'">
      <p>Solicitantes: </p>
      <div *ngFor="let doctor of job.doctor">
        <p>{{doctor.name | json}}, Nº de colegiado: {{doctor.collegiate}}</p>
      </div>
    </div>
    <a *ngIf="user.role==='doctor'" [routerLink]="[job._id]">Solicitar puesto</a>
    <a *ngIf="user.role==='manager'" [routerLink]="[job._id]">Eliminar oferta</a>

  </div>

</div>

<div *ngIf="!user" class="unauthorized">
  <p>No tiene permiso para ver esta página. Por favor, póngase en contacto con el administrador del sistema.</p>
  <a [routerLink]="['']">Volver</a>
</div>
